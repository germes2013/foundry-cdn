---
import * as fs from 'fs';
import DefaultLayout from '../layouts/DefaultLayout.astro';
import ReadDir from '../components/ReadDir.astro';

export async function getStaticPaths() {
  const folders = fs.readdirSync("./public/assets/");
  return folders.map((folder) => {
    return {
      params: { dir: folder },
      props: { folder }
    };
  });
}

const { folder } = Astro.props;
---

<DefaultLayout>
  <ReadDir dir={folder} />
</DefaultLayout>