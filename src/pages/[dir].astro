---
import * as fs from "fs";
import Layout from "../layouts/Layout.astro";
import Directory from "../components/Directory.astro";

export async function getStaticPaths() {
  const folders = fs.readdirSync("./public/assets/");
  return folders.map((folder) => {
    return {
      params: { dir: folder },
      props: { folder },
    };
  });
}

const { folder } = Astro.props;
---

<Layout>
  <Directory dir={folder} />
</Layout>
